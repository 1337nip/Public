<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>ВИСЕЛИЦА</title>
    </head>
<body>

<script>
function game() {

var massiv = ['ПОВТОР']
var random = massiv[Math.floor(Math.random()*massiv.length)]

var slovo = []
for (let i=0; i<random.length; i++) {
    slovo[i] = random[i];
}

var operator = []
    for (i=0; i<slovo.length;i++) {
    operator[i] = "_ "
    };
var y = 0
var i = 0
var z = slovo.length + 2

var konteiner = []    
var proverka = []

while (y < slovo.length) {

    if (z===0) {
        alert('YOU DIED. Правильное слово: ' + random);
        window.open("https://www.youtube.com/watch?v=Dq3nKajKprQ", "_self"); 
        return;
    } 

    var j=false
    var k=false
    var bukva = prompt("Угадай слово по буквам: " + operator.join(' ') + " (Выбывшие буквы: " + konteiner + ")" + " Введи одну букву и нажми ОК." )
    bukva = bukva.toUpperCase();

    /* if (bukva === "ХВАТИТ") {
            y = slovo.length + 1;
            alert ('Ну ты и лох');
            alert ('Слабак!');
            return; */
               
    konteiner = konteiner + bukva;
    
    for (let m=0; m<proverka.length; m++) {
        if (bukva === proverka[m]) {
            alert('Такая буква уже отгадана!');
            k = true;
            break;
        }
    }

if (k === false) {
    for (i=0; i<slovo.length; i++) {
        if (bukva === slovo[i]) {
                operator[i] = slovo[i];
                j = true;
                y++;
                proverka.push(bukva);
                    }
                } 
        if (j===false) {
            z--;
            alert('Нет такой буквы! Осталось попыток: ' + z);
        } else if (y<slovo.length) {
            alert('Есть такая буква! Осталось попыток: ' + z);
        } 
    }
        if (y===slovo.length) {  
            alert ('Круто! Ты выиграл! Итоговое слово: ' + operator.join(' ')); 
            var result = confirm('Хочешь забрать свой приз?');
                if (result) {
                    window.open("https://youtube.com/clip/UgkxfVSiPVH1Y-RIerFL48QL1fXQoJfpNSlP?si=OnetIHOFRSjbQXg0", "_self"); 
                } else {
                    window.open("https://youtube.com/clip/Ugkxk1FOKlhQwsCyVms_-rfMKcYPTY8d-J53?si=LhSZZGh1DsUfuu_X", "_self"); 
                    }
                }       
            }
}
    

let igraem = confirm('Хочешь сыграть в игру?');
    if (!igraem) {
        alert('Ну и лох!');
    }

else {
    game(); 
    }

 /* function newgame() {
    let regame = confirm ('Хочешь попробовать еще раз?');
        if (regame) {
        game();
        } else {
            alert('Хочу пожелать вам крепкого здоровья. Чтобы господь вас охранял, святой Георгий сопутствовал во всех ваших начинаниях, а Николай чудотворец дарил вам крепкое здоровье и удачу');
        }
    }

setTimeout (newgame, 5000); */




</script>


</body>
</html>
