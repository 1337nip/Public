<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>ВИСЕЛИЦА</title>
    </head>
<body>

<script>
function game() {

var massiv = ['ПОВТОР', 'КОНСУЛЬТАЦИЯ', 'ПРОГРАММИРОВАНИЕ', 'АВТОМОБИЛЬ', 'ТЕХНОЛОГИЯ', 'УЧЕБНИК', 'КОНФЕРЕНЦИЯ', 'РЕДАКТОР', 'ОРГАНИЗАЦИЯ', 'ТЕЛЕВИЗОР', 'ЭКСПЕРИМЕНТ', 'СОБРАНИЕ', 'ИНСТРУМЕНТ', 'ПОВЕДЕНИЕ', 'ПОЛИТИКА', 'ОБУЧЕНИЕ', 'КОММЕНТАРИЙ', 'ОБСЛУЖИВАНИЕ', 'ФИНАНСИРОВАНИЕ', 'СТАНДАРТ']
var random = massiv[Math.floor(Math.random()*massiv.length)]

var slovo = []
for (let i=0; i<random.length; i++) {
    slovo[i] = random[i];
}

var operator = []
    for (i=0; i<slovo.length;i++) {
    operator[i] = "_ "
    };
var y = 0
var i = 0
var z = slovo.length + 2

var konteiner = []    

while (y < slovo.length) {

    if (z===0) {
        alert('YOU DIED. Правильное слово: ' + random);
        window.open("https://www.youtube.com/watch?v=Dq3nKajKprQ", "_self"); 
        return;
    } 

    var j=false
    var bukva = prompt("Угадай слово по буквам: " + operator.join(' ') + " (Выбывшие буквы: " + konteiner + ")" + " Введи букву. Если надоело, введи 'Хватит'." )
    bukva = bukva.toUpperCase();

    if (bukva === "ХВАТИТ") {
            y = slovo.length + 1;
            alert ('Ну ты и лох');
            alert ('Слабак!');
            return;

     
     } else {     
            
            konteiner = konteiner + bukva;
            for (i=0; i<slovo.length; i++) {
                if (bukva === slovo[i]) {
                        operator[i] = slovo[i];
                        j = true;
                        y++;
                    }
                } 
        if (j===false) {
            z--;
            alert('Нет такой буквы! Осталось попыток: ' + z);
        } else if (y<slovo.length) {
            alert('Есть такая буква! Осталось попыток: ' + z);
        }
        if (y===slovo.length) {  
            alert ('Круто! Ты выиграл! Итоговое слово: ' + operator.join(' ')); 
            var result = confirm('Хочешь забрать свой приз?');
                if (result) {
                    window.open("https://www.youtube.com/watch?v=KKOIj3_rM7c&t=1034s", "_self"); 
                } else {
                    window.open("https://youtu.be/lpD4r8BO980?si=2noc1PCCvQbqH7nR&t=321", "_self"); 
                    }
                }       
            }
        }
    
}

let igraem = confirm('Хочешь сыграть в игру?');
    if (!igraem) {
        alert('Ну и лох!');
    }

else {
    game(); 
    }

 /* function newgame() {
    let regame = confirm ('Хочешь попробовать еще раз?');
        if (regame) {
        game();
        } else {
            alert('Хочу пожелать вам крепкого здоровья. Чтобы господь вас охранял, святой Георгий сопутствовал во всех ваших начинаниях, а Николай чудотворец дарил вам крепкое здоровье и удачу');
        }
    }

setTimeout (newgame, 5000); */




</script>


</body>
</html>
